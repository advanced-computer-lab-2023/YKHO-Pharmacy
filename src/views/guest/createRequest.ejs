<!DOCTYPE html>
<html>
<head>
    <title>Registration Request</title>
</head>
<body>
    <h1>Registration Request</h1>
    <form action="/guest/createRequest" method="POST" enctype="multipart/form-data" onsubmit="return validateForm()">
        <label for="username">Username:</label>
        <input type="text" name="username" required><br>

        <label for="name">Name:</label>
        <input type="text" name="name" required><br>

        <label for="email">Email:</label>
        <input type="email" name="email" required><br>

        <label for="password">Password:</label>
        <input type="password" name="password" id="passwordInput" required>
        <div id="passwordError" style="color: red; display: none;">
            Password must contain at least 1 uppercase letter, 1 lowercase letter, no spaces, and at least 1 special symbol.
        </div><br>

        <label for="dateOfBirth">Date of Birth:</label>
        <input type="date" name="dateOfBirth" required><br>

        <label for="hourlyRate">Hourly Rate:</label>
        <input type="number" name="hourlyRate" required><br>

        <label for="affiliation">Affiliation:</label>
        <input type="text" name="affiliation" required><br>

        <label for="educationalBackground">Educational Background:</label>
        <input type="text" name="educationalBackground" required><br>

        <label for="idFile">ID File:</label>
        <input type="file" name="idFile" accept=".pdf, .doc, .docx" required><br>

        <label for="medicalDegreeFile">Medical Degree File:</label>
        <input type="file" name="medicalDegreeFile" accept=".pdf, .doc, .docx" required><br>

        <label for="workingLicenseFile">Working License File:</label>
        <input type="file" name="workingLicenseFile" accept=".pdf, .doc, .docx" required><br>

        <button type="submit">Submit Request</button>
    </form>

    <script>
        const passwordInput = document.getElementById("passwordInput");
        const passwordError = document.getElementById("passwordError");

        passwordInput.addEventListener("input", () => {
            if (!isValidPassword(passwordInput.value)) {
                passwordError.style.display = "block";
            } else {
                passwordError.style.display = "none";
            }
        });

        function isValidPassword(password) {
            const regex = /^(?=.*[a-z])(?=.*[A-Z])(?!.*\s)(?=.*[!@#$%^&*])/;
            return regex.test(password);
        }

        function validateForm() {
            return isValidPassword(passwordInput.value);
        }
    </script>
</body>
</html>
